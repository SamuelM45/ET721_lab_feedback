{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ item.name }} - Feedback</title>
        <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    </head>
<body>
    <div class="container">
        <header>
            <h1>{{ item.name }}</h1>
            <p class="average-rating">Average Rating: {{ average_rating }}</p>
        </header>

        <main>
            <section class="feedback-list">
                <h2>Feedback</h2>
                <ul>
                    {% for feedback in feedbacks %}
                        <li class="feedback-item">
                            <div class="feedback-header">
                                <strong>Rating:</strong> {{ feedback.rating }}
                            </div>
                            <div class="feedback-comment">
                                <strong>Comment:</strong> {{ feedback.comment }}
                            </div>
                            <small class="feedback-date">Submitted on {{ feedback.created_at }}</small>
                        </li>
                    {% endfor %}
                </ul>
            </section>

            <section class="submit-feedback">
                <h2>Submit Feedback</h2>
                <form method="post" class="feedback-form">
                    {% csrf_token %}
                    
                    <label for="id_rating">Rating:</label>
                    <div class="rating">
                        <input type="radio" id="rating1" name="rating" value="1">
                        <label for="rating1">1</label>
                        <input type="radio" id="rating2" name="rating" value="2">
                        <label for="rating2">2</label>
                        <input type="radio" id="rating3" name="rating" value="3">
                        <label for="rating3">3</label>
                        <input type="radio" id="rating4" name="rating" value="4">
                        <label for="rating4">4</label>
                        <input type="radio" id="rating5" name="rating" value="5">
                        <label for="rating5">5</label>
                    </div>

                    <label for="id_comment">Comment:</label>
                    <textarea id="id_comment" name="comment" rows="4" class="comment-box"></textarea>

                    <button type="submit" class="submit-button">Submit Feedback</button>
                </form>
            </section>

            <footer>
                <a href="{% url 'home' %}" class="back-home">Back to Home</a>
            </footer>
        </main>
    </div>
</body>
</html>
